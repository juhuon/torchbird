<!DOCTYPE html>

<html>

<head>

    <meta charset="utf-8">

    <title>历史上的今天</title>

    <meta name="renderer" content="webkit">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link rel="shortcut icon" href="#" type="image/x-icon">

    <link rel="stylesheet" href="layui-v2.6.8/layui/css/layui.css">

    <script src="js/jquery-3.6.0.min.js"></script>

</head>

<body>

    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">

        <legend class="layui-bg-cyan">历史上的今天</legend>

    </fieldset>

    <!-- 历史容器 -->

    <ul class="layui-timeline" id="history-box">

    </ul>

    <script src="layui-v2.6.8/layui/layui.js"></script>

    <!-- 引入template-web模版库文件 -->

    <script src="js/template-web.js"></script>

    <!-- 模版内容 -->

    <script type="text/html" id="history-tpl">

        {{each info}}

        <li class="layui-timeline-item">

            <i class="layui-icon layui-icon-flag" style="font-size: 20px; color: #5FB878;"></i>

            <div class="layui-timeline-content layui-text">

                <h3 class="layui-timeline-title">{{$value.year}}年 {{data.month}}月{{data.day}}日</h3>

                <p>

                    {{$value.title}}<a href={{$value.link}} title="百度百科" style="text-decoration: none;"><i

                            class="layui-icon layui-icon-search"

                            style="margin-left: 4px; font-size: 30px; color: #1E9FFF; vertical-align: baseline;"></i></a>

                </p>

            </div>

        </li>

        {{/each}}

    </script>

    

    <script type="text/javascript">

        var historyBox = document.getElementById("history-box");

        $.ajax({

            type: "get",

            url: "https://query.asilu.com/today/list",

            dataType: "jsonp",

            success: function (data) {

                var html = template("history-tpl", {

                    info: data.data,

                    data: data

                });

                historyBox.innerHTML = html;

            }

        });

    </script>

</body>

</html>

